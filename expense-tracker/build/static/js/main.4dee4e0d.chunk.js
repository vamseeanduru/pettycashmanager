(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{29:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(16),s=a.n(n),r=a(30),c=a.n(r),i=(a(36),a(37),a(4)),o=a(5),l=a(10),h=a(9),u=(a(38),a(31)),d=(a(40),a(46),u.a.initializeApp({apiKey:"AIzaSyCjb5XoDzfWHnYnQXEgPla0VRZ1GEfSpvo",authDomain:"expense-app-cbf89.firebaseapp.com",projectId:"expense-app-cbf89",storageBucket:"expense-app-cbf89.appspot.com",messagingSenderId:"94366436310",appId:"1:94366436310:web:d02eb0bf15a27e6291b277",measurementId:"G-WRRQQ5DE3C"})),p=a(3),j=(a(29),a(7)),m=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",fireErrors:""},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.login=function(t){t.preventDefault(),d.auth().signInWithEmailAndPassword(e.state.email,e.state.password).catch((function(t){e.setState({fireErrors:t.message})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.fireErrors?Object(j.jsx)("div",{className:"Error",children:this.state.fireErrors}):null;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Login"}),e,Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{type:"text",className:"regField",placeholder:"Email",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(j.jsx)("input",{type:"password",className:"regField",placeholder:"Password",value:this.state.password,onChange:this.handleChange,name:"password"}),Object(j.jsx)("input",{type:"submit",className:"submitBtn",onClick:this.login,value:"Login"})]})]})}}]),a}(n.Component),b=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",displayName:"",fireErrors:""},e.register=function(t){t.preventDefault(),d.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){d.auth().currentUser.updateProfile({displayName:e.state.displayName})})).catch((function(t){e.setState({fireErrors:t.message})}))},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.fireErrors?Object(j.jsxs)("div",{className:"Error",children:[" ",this.state.fireErrors," "]}):null;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Register"}),e,Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{type:"text",className:"regField",placeholder:"Your Name",value:this.state.displayName,onChange:this.handleChange,name:"displayName"}),Object(j.jsx)("input",{type:"text",className:"regField",placeholder:"Email",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(j.jsx)("input",{className:"regField",placeholder:"Pasword",value:this.state.password,onChange:this.handleChange,name:"password",type:"password"}),Object(j.jsx)("input",{className:"submitBtn",type:"submit",onClick:this.register,value:"Register"})]})]})}}]),a}(n.Component),f=b,O=(a(44),function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("div",{children:e.name}),Object(j.jsx)("div",{children:"income"===e.type?Object(j.jsxs)("span",{className:"income",children:[" +",e.price," "]}):Object(j.jsxs)("span",{className:"expense",children:["-",e.price]})})]})}),g=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={transactions:[],money:0,transactionName:"",transactionType:"",price:"",currentUID:d.auth().currentUser.uid},e.logout=function(){d.auth().signOut()},e.handleChange=function(t){return function(a){e.setState(Object(p.a)({},t,"0"!==a.target.value?a.target.value:""))}},e.addNewTransaction=function(){var t=e.state,a=t.transactionName,n=t.transactionType,s=t.price,r=t.currentUID,c=t.money;if(a&&n&&s){var i=e.state.transactions;i.push({id:i.length+1,name:a,type:n,price:s,user_id:r}),d.database().ref("Transactions/"+r).push({id:i.length,name:a,type:n,price:s,user_id:r}).then((function(t){console.log("success callback"),e.setState({transactions:i,money:"income"===n?c+parseFloat(s):c-parseFloat(s),transactionName:"",transactionType:"",price:""})})).catch((function(e){console.log("error ",e)}))}},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.currentUID,n=t.money,s=this.state.transactions;d.database().ref("Transactions/"+a).once("value",(function(t){t.forEach((function(e){n="income"===e.val().type?parseFloat(e.val().price)+n:n-parseFloat(e.val().price),s.push({id:e.val().id,name:e.val().name,type:e.val().type,price:e.val().price,user_id:e.val().user_id})})),e.setState({transactions:s,money:n})}))}},{key:"render",value:function(){var e=this,t=d.auth().currentUser;return Object(j.jsxs)("div",{className:"trackerBlock",children:[Object(j.jsxs)("div",{className:"welcome",children:[Object(j.jsxs)("span",{children:["Hi, ",t.displayName,"!"]}),Object(j.jsx)("button",{className:"exit",onClick:this.logout,children:"Logout"})]}),Object(j.jsxs)("div",{className:"totalMoney",children:[this.state.money," \u20b9"]}),Object(j.jsx)("div",{className:"newTransactionBlock",children:Object(j.jsxs)("div",{className:"newTransaction",children:[Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{onChange:this.handleChange("transactionName"),value:this.state.transactionName,placeholder:"Transaction Name",type:"text",name:"transactionName"}),Object(j.jsxs)("div",{className:"inputGroup",children:[Object(j.jsxs)("select",{name:"type",onChange:this.handleChange("transactionType"),value:this.state.transactionType,children:[Object(j.jsx)("option",{value:"0",children:"Type"}),Object(j.jsx)("option",{value:"expense",children:"Expense"}),Object(j.jsx)("option",{value:"income",children:"Income"})]}),Object(j.jsx)("input",{onChange:this.handleChange("price"),value:this.state.price,placeholder:"Price",type:"text",name:"price"})]})]}),Object(j.jsx)("button",{onClick:function(){return e.addNewTransaction()},className:"addTransaction",children:"+ Add Transaction"})]})}),Object(j.jsxs)("div",{className:"latestTransactions",children:[Object(j.jsx)("p",{children:"Latest Transactions"}),Object(j.jsx)("ul",{children:Object.keys(this.state.transactions).map((function(t){return Object(j.jsx)(O,{type:e.state.transactions[t].type,name:e.state.transactions[t].name,price:e.state.transactions[t].price},t)}))})]})]})}}]),a}(n.Component),v=g,x=a.p+"static/media/loader.1bcd0c30.gif",y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={user:1,loding:!0,formSwitcher:!1},e.formSwitcher=function(t){console.log(t),e.setState({formSwitcher:"register"===t})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;d.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){var e=this,t=this.state.formSwitcher?Object(j.jsx)(f,{}):Object(j.jsx)(m,{});return 1===this.state.user?Object(j.jsx)("div",{className:"mainBlock",children:Object(j.jsx)("div",{className:"Spinner",children:Object(j.jsx)("img",{src:x,alt:"Spinner",className:"ImgSpinner"})})}):Object(j.jsx)(j.Fragment,{children:this.state.user?Object(j.jsx)(v,{}):Object(j.jsxs)("div",{className:"mainBlock",children:[t,this.state.formSwitcher?Object(j.jsxs)("span",{className:"underline",children:["Already registered?",Object(j.jsx)("button",{className:"linkbtn",onClick:function(){return e.formSwitcher(e.state.formSwitcher?"login":"register")},children:"Sign in here"})]}):Object(j.jsxs)("span",{className:"underline",children:["Not registered?",Object(j.jsx)("button",{className:"linkbtn",onClick:function(){return e.formSwitcher(e.state.formSwitcher?"login":"register")},children:"Create an Account"})]})]})})}}]),a}(n.Component);var N=function(){return Object(j.jsx)(y,{})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4dee4e0d.chunk.js.map